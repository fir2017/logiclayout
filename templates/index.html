{% extends 'master.html' %}
{% block body %}

<!-- <div class="content">
<p>
	Type in a <a href="http://en.wikipedia.org/wiki/Logic_gate">digital logic</a> expression. Please use <code>&</code> for AND, <code>|</code> for OR, <code>~</code> for NOT, <code>^</code> for XOR.
</p>
</div> -->

<!-- Main input bar to get expressions -->
<form action="/" method="POST" id="expression">
	<div class="input-group">
		<span class="label">f =</span>
		<input type="text" name="logic-expression" placeholder="expression">
	</div>
</form>

<!-- Displays expression typed in the input bar -->
<p class="text-expression">
	{{ expr }}
</p>

<!-- Scroll bar that displays if a circuit is created -->
{% if display is defined %}
	<input type="text" class="slider" value="" data-slider-min="0.4" data-slider-max="3" data-slider-step=".01" data-slider-value="1.7" data-slider-orientation="vertical" data-slider-selection="before" data-slider-tooltip="hide">
{% endif %}

<!-- HTML5 Canvas -->
<div class="schematic">
	<canvas id="canvas" resize></canvas>
</div>

<!-- JavaScript using Jinja to determine if JSON results exist -->
<script type="text/javascript" src="/static/js/paper.js"></script>
<script type="text/javascript">

	var run = false;
	var results = "";
	var runSimulator = "";

	// only runs compiler for proper expressions
	{% if display is defined %}
		run = true;
		results = JSON.parse( '{{json | safe}}' );
	{% endif %}

</script>
<script type="text/javascript" src="/static/js/display.js"></script>
<script type="text/paperscript" src="/static/js/circuit.js" canvas="canvas"></script>
 
 {% endblock %}
